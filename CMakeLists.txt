cmake_minimum_required(VERSION 2.8)
project(boomstick)
# KDevelopの変数設定が機能していないのでターゲットによってコメントアウトを切り替える
set(SSE_LEVEL 2)
# set(ARCHITECTURE x86)
include(spinner/CMakeCommon.txt require)
include(spinner/CMakeCompiler.txt require)
include_directories(${PROJECT_SOURCE_DIR}/spinner)
link_directories(${CMAKE_INSTALL_PREFIX}/lib_${TOOL_PREFIX})

add_library(boomstick STATIC geom2D.cpp col2D.cpp rigid2D.cpp collision.cpp)
install(TARGETS boomstick ARCHIVE DESTINATION lib_${TOOL_PREFIX})
file(GLOB HEADERS "./*.hpp")
install(FILES ${HEADERS} DESTINATION include/boomstick)

if(NOT DEFINED ARCHITECTURE)
	add_executable(bs_test main.cpp)
	target_link_libraries(bs_test boomstick spinner boost_system)
	install(TARGETS bs_test RUNTIME DESTINATION bin_${TOOL_PREFIX})
endif()
